apiVersion: instance.alexvyrodov.example/v1alpha1
kind: Postgresql
metadata:
  labels:
    app.kubernetes.io/name: k8s-postgresql-operator
    app.kubernetes.io/managed-by: kustomize
  name: postgresql-sample
spec:
  # External PostgreSQL instance configuration
  # This allows you to manage an existing PostgreSQL instance by specifying its address
  externalInstance:
    # Address is the SDN (Service Discovery Name) or network address of the PostgreSQL instance
    # Can be a hostname, IP address, or Kubernetes service name
    # Examples:
    # - "postgres.example.com"
    # - "192.168.1.100"
    # - "postgres-service.namespace.svc.cluster.local"
    postgresqlID: "2BDAAA95-0465-473B-B270-E5503F1554FD"
    address: "192.168.0.55"
    
    # Port number (defaults to 5432 if not specified)
    port: 5432
    
    # Database name (optional)
    #database: "mydb"
    
    # Reference to a Kubernetes secret containing credentials
    # The secret should contain keys: username and password
    #username: postgres
    #password: password
    #credentialsSecretRef:
    #  name: postgresql-credentials
    #  namespace: default  # Optional: defaults to the same namespace as the Postgresql resource
    
    # SSL mode: disable, require, verify-ca, verify-full (defaults to "require")
    sslMode: "disable"
